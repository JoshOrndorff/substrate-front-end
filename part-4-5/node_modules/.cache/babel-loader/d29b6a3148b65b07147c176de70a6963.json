{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/home/thib/github/substrate-developer-hub/basic-dapp/part-4-5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.info = info;\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _drr = require(\"../util/drr\"); // Copyright 2017-2019 @polkadot/api-derive authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\n/**\n * @name info\n * @returns An object containing the combined results of the storage queries for\n * all relevant election module properties.\n * @example\n * <BR>\n *\n * ```javascript\n * api.derive.elections.info(([members, candidates]) => {\n *   console.log(`There are currently ${members.length} council members and ${candidates.length} prospective council candidates.`);\n * });\n * ```\n */\n\n\nfunction info(api) {\n  return () => {\n    return api.queryMulti([api.query.elections.members, api.query.elections.candidates, api.query.elections.candidateCount, api.query.elections.desiredSeats, api.query.elections.nextVoterSet, api.query.elections.termDuration, api.query.elections.voteCount, api.query.elections.voterCount]).pipe((0, _operators.map)(_ref => {\n      let _ref3 = _slicedToArray(_ref, 8),\n          members = _ref3[0],\n          candidates = _ref3[1],\n          candidateCount = _ref3[2],\n          desiredSeats = _ref3[3],\n          nextVoterSet = _ref3[4],\n          termDuration = _ref3[5],\n          voteCount = _ref3[6],\n          voterCount = _ref3[7];\n\n      return {\n        members: members.reduce((record, _ref2) => {\n          let _ref4 = _slicedToArray(_ref2, 2),\n              accountId = _ref4[0],\n              blockNumber = _ref4[1];\n\n          record[accountId.toString()] = blockNumber;\n          return record;\n        }, {}),\n        candidates,\n        candidateCount,\n        desiredSeats,\n        nextVoterSet,\n        termDuration,\n        voteCount,\n        voterCount\n      };\n    }), (0, _drr.drr)());\n  };\n}","map":null,"metadata":{},"sourceType":"script"}