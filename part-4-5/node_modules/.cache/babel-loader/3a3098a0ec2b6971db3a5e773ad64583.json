{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/home/thib/github/substrate-developer-hub/basic-dapp/part-4-5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"@polkadot/util\");\n\nvar _asU8a = _interopRequireDefault(require(\"../blake2/asU8a\")); // Copyright 2017-2019 @polkadot/util-crypto authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\n\nconst RE_NUMBER = /^\\d+$/;\nconst JUNCTION_ID_LEN = 32;\nconst BN_OPTIONS = {\n  bitLength: 256,\n  isLe: true\n};\n\nclass DeriveJunction {\n  constructor() {\n    this._chainCode = new Uint8Array(32);\n    this._isHard = false;\n  }\n\n  static from(value) {\n    const _ref = value[0] === '/' ? [value.substr(1), true] : [value, false],\n          _ref2 = _slicedToArray(_ref, 2),\n          code = _ref2[0],\n          isHard = _ref2[1];\n\n    const result = new DeriveJunction();\n    result.soft(RE_NUMBER.test(code) ? parseInt(code, 10) : code);\n    return isHard ? result.harden() : result;\n  }\n\n  get chainCode() {\n    return this._chainCode;\n  }\n\n  get isHard() {\n    return this._isHard;\n  }\n\n  get isSoft() {\n    return !this._isHard;\n  }\n\n  hard(value) {\n    return this.soft(value).harden();\n  }\n\n  harden() {\n    this._isHard = true;\n    return this;\n  }\n\n  soft(value) {\n    if ((0, _util.isNumber)(value) || (0, _util.isBn)(value)) {\n      return this.soft((0, _util.bnToHex)(value, BN_OPTIONS));\n    } else if ((0, _util.isString)(value)) {\n      return (0, _util.isHex)(value) ? this.soft((0, _util.hexToU8a)(value)) : this.soft((0, _util.compactAddLength)((0, _util.stringToU8a)(value)));\n    }\n\n    if (value.length > JUNCTION_ID_LEN) {\n      return this.soft((0, _asU8a.default)(value));\n    }\n\n    this._chainCode.fill(0);\n\n    this._chainCode.set(value, 0);\n\n    return this;\n  }\n\n  soften() {\n    this._isHard = false;\n    return this;\n  }\n\n}\n\nexports.default = DeriveJunction;","map":null,"metadata":{},"sourceType":"script"}