{"ast":null,"code":"var _jsxFileName = \"/home/thib/github/substrate-developer-hub/basic-dapp/part-4-5/src/TxButton.js\";\nimport React from 'react';\nimport { Button } from 'semantic-ui-react';\nexport default function TxButton({\n  api,\n  fromPair,\n  label,\n  params,\n  setStatus,\n  tx\n}) {\n  const makeCall = async () => {\n    const fromParam = fromPair;\n    setStatus('Sending...');\n    tx(...params).signAndSend(fromParam, ({\n      status\n    }) => {\n      if (status.isFinalized) {\n        setStatus(\"Completed at block hash #\".concat(status.asFinalized.toString()));\n      } else {\n        setStatus(\"Current transfer status: \".concat(status.type));\n      }\n    }).catch(e => {\n      setStatus(':( transaction failed');\n      console.error('ERROR:', e);\n    });\n  };\n\n  return React.createElement(Button, {\n    onClick: makeCall,\n    primary: true,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, label);\n}","map":{"version":3,"sources":["/home/thib/github/substrate-developer-hub/basic-dapp/part-4-5/src/TxButton.js"],"names":["React","Button","TxButton","api","fromPair","label","params","setStatus","tx","makeCall","fromParam","signAndSend","status","isFinalized","asFinalized","toString","type","catch","e","console","error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AAEA,eAAe,SAASC,QAAT,CAAmB;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,QAAP;AAAiBC,EAAAA,KAAjB;AAAwBC,EAAAA,MAAxB;AAAgCC,EAAAA,SAAhC;AAA2CC,EAAAA;AAA3C,CAAnB,EAAoE;AACjF,QAAMC,QAAQ,GAAG,YAAY;AAC3B,UAAMC,SAAS,GAAGN,QAAlB;AACAG,IAAAA,SAAS,CAAC,YAAD,CAAT;AAEAC,IAAAA,EAAE,CAAC,GAAGF,MAAJ,CAAF,CAAcK,WAAd,CAA0BD,SAA1B,EAAqC,CAAC;AAAEE,MAAAA;AAAF,KAAD,KAAgB;AACnD,UAAIA,MAAM,CAACC,WAAX,EAAwB;AACtBN,QAAAA,SAAS,oCAA6BK,MAAM,CAACE,WAAP,CAAmBC,QAAnB,EAA7B,EAAT;AACD,OAFD,MAEO;AACLR,QAAAA,SAAS,oCAA6BK,MAAM,CAACI,IAApC,EAAT;AACD;AACF,KAND,EAMGC,KANH,CAMUC,CAAD,IAAO;AACdX,MAAAA,SAAS,CAAC,uBAAD,CAAT;AACAY,MAAAA,OAAO,CAACC,KAAR,CAAc,QAAd,EAAwBF,CAAxB;AACD,KATD;AAUD,GAdD;;AAgBA,SACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAET,QADX;AAEE,IAAA,OAAO,MAFT;AAGE,IAAA,IAAI,EAAC,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGJ,KALH,CADF;AASD","sourcesContent":["import React from 'react';\nimport { Button } from 'semantic-ui-react';\n\nexport default function TxButton ({ api, fromPair, label, params, setStatus, tx }) {\n  const makeCall = async () => {\n    const fromParam = fromPair\n    setStatus('Sending...');\n\n    tx(...params).signAndSend(fromParam, ({ status }) => {\n      if (status.isFinalized) {\n        setStatus(`Completed at block hash #${status.asFinalized.toString()}`);\n      } else {\n        setStatus(`Current transfer status: ${status.type}`);\n      }\n    }).catch((e) => {\n      setStatus(':( transaction failed');\n      console.error('ERROR:', e);\n    });\n  };\n\n  return (\n    <Button\n      onClick={makeCall}\n      primary\n      type='submit'\n    >\n      {label}\n    </Button>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}