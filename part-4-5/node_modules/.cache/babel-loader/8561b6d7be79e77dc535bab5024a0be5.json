{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactCopyToClipboard = _interopRequireDefault(require(\"react-copy-to-clipboard\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _uiSettings = _interopRequireDefault(require(\"@polkadot/ui-settings\"));\n\nvar _util = require(\"@polkadot/util\");\n\nvar _utilCrypto = require(\"@polkadot/util-crypto\");\n\nvar _icons = require(\"./icons\"); // Copyright 2017-2019 @polkadot/react-identicon authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\n\nconst Fallback = _icons.Beachball;\nconst DEFAULT_SIZE = 64;\nconst Components = {\n  beachball: _icons.Beachball,\n  jdenticon: _icons.Jdenticon,\n  polkadot: _icons.Polkadot,\n  substrate: _icons.Jdenticon\n};\n\nconst Wrapper = _styledComponents.default.div.withConfig({\n  displayName: \"Identicon__Wrapper\",\n  componentId: \"sc-1gm2vek-0\"\n})([\"cursor:copy;display:inline-block;line-height:0;> .container{position:relative;> div,> svg{position:relative;}&:before{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:50%;box-shadow:0 0 5px 2px #e0e0e0;content:'';}&.highlight:before{box-shadow:0 0 5px 2px red;}}\"]);\n\nclass IdentityIcon extends _react.default.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      address: '',\n      publicKey: '0x'\n    };\n\n    this.onCopy = () => {\n      const onCopy = this.props.onCopy;\n      const address = this.state.address;\n\n      if (address && onCopy) {\n        onCopy(address);\n      }\n    };\n  }\n\n  static setDefaultPrefix(prefix) {\n    IdentityIcon.prefix = prefix;\n  }\n\n  static getDerivedStateFromProps(_ref, prevState) {\n    let _ref$prefix = _ref.prefix,\n        prefix = _ref$prefix === void 0 ? IdentityIcon.prefix : _ref$prefix,\n        value = _ref.value;\n\n    try {\n      const address = (0, _util.isU8a)(value) || (0, _util.isHex)(value) ? (0, _utilCrypto.encodeAddress)(value, prefix) : value || '';\n      const publicKey = (0, _util.u8aToHex)((0, _utilCrypto.decodeAddress)(address, false, prefix));\n      return address === prevState.address ? null : {\n        address,\n        publicKey\n      };\n    } catch (error) {\n      return {\n        address: '',\n        publicKey: '0x'\n      };\n    }\n  }\n\n  render() {\n    const address = this.state.address;\n    const wrapped = this.getWrapped(this.state);\n    return !address ? wrapped : _react.default.createElement(_reactCopyToClipboard.default, {\n      onCopy: this.onCopy,\n      text: address\n    }, wrapped);\n  }\n\n  getWrapped(_ref2) {\n    let address = _ref2.address,\n        publicKey = _ref2.publicKey;\n    const _this$props = this.props,\n          className = _this$props.className,\n          _this$props$isHighlig = _this$props.isHighlight,\n          isHighlight = _this$props$isHighlig === void 0 ? false : _this$props$isHighlig,\n          _this$props$size = _this$props.size,\n          size = _this$props$size === void 0 ? DEFAULT_SIZE : _this$props$size,\n          style = _this$props.style,\n          _this$props$theme = _this$props.theme,\n          theme = _this$props$theme === void 0 ? _uiSettings.default.uiTheme : _this$props$theme;\n    const Component = !address ? _icons.Empty : Components[theme] || Fallback;\n    return _react.default.createElement(Wrapper, {\n      className: \"ui--IdentityIcon \".concat(className),\n      key: address,\n      style: style\n    }, _react.default.createElement(Component, {\n      address: address,\n      className: isHighlight ? 'highlight' : '',\n      publicKey: publicKey,\n      size: size\n    }));\n  }\n\n}\n\nexports.default = IdentityIcon;\nIdentityIcon.prefix = undefined;","map":null,"metadata":{},"sourceType":"script"}